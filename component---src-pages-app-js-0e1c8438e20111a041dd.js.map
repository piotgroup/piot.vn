{"version":3,"file":"component---src-pages-app-js-0e1c8438e20111a041dd.js","mappings":"0OAaA,EATqB,SAAC,GAAiD,IAApCA,EAAmC,EAA9CC,UAAsBC,EAAwB,EAAxBA,SAAaC,GAAW,YACpE,OAAKC,EAAAA,EAAAA,OAAgB,eAAAF,EAASG,SAKvB,gBAACL,EAAcG,KAJpBG,EAAAA,EAAAA,UAAS,cACF,OCMX,EAVgB,kBACd,gCACE,0CACA,0BACE,oCAAWC,EAAAA,EAAAA,MAAUC,MACrB,qCAAYD,EAAAA,EAAAA,MAAUE,U,sBCHtBC,EAAAA,SAAAA,GAAAA,SAAAA,IAAAA,IAAAA,IAAAA,EAAAA,EAAAA,UAAAA,OAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,UAAAA,GAeH,OAfGA,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,CAAAA,MAAAA,OAAAA,KAAAA,MACJC,MAAQ,CACNC,SAAS,GACTC,SAAS,IAFH,EAKRC,aAAe,SAACC,GAAW,IAAD,EACxB,EAAKC,WAAL,MACGD,EAAME,OAAOT,MAAOO,EAAME,OAAOC,MADpC,KAGD,EAEDC,aAAe,SAACJ,GACdA,EAAMK,kBACNC,EAAAA,EAAAA,IAAY,EAAKV,QAClB,EAiCA,OAhDGD,EAAAA,EAAAA,GAAAA,EAAAA,GAeH,YAEDY,OAAA,WAAU,IAAD,OAKP,OAJIlB,EAAAA,EAAAA,QACFE,EAAAA,EAAAA,UAAS,gBAIT,gBAAC,KAAD,KACE,gBAAC,KAAD,eACA,wBACEiB,OAAO,OACPC,SAAU,SAACT,GACT,EAAKI,aAAaJ,IAClBT,EAAAA,EAAAA,UAAS,kBAGX,gBAAC,KAAD,gBAEE,gBAAC,KAAD,CAAOmB,KAAK,OAAOjB,KAAK,WAAWkB,SAAUC,KAAKb,gBAEpD,gBAAC,KAAD,gBAEE,gBAAC,KAAD,CACEW,KAAK,WACLjB,KAAK,WACLkB,SAAUC,KAAKb,gBAGnB,gBAAC,KAAD,CAAQc,QAAQ,WAAhB,YAIP,EAhDGlB,CAAcmB,EAAAA,WAmDpB,IC3CA,EAPY,kBACV,gBAAC,EAAAC,OAAD,KACE,gBAAC,EAAD,CAAcC,KAAK,eAAe9B,UAAW+B,IAC7C,gBAAC,EAAD,CAAOD,KAAK","sources":["webpack://piot.vn/./src/components/private-route.js","webpack://piot.vn/./src/components/profile.js","webpack://piot.vn/./src/components/login.js","webpack://piot.vn/./src/pages/app.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { navigate } from \"gatsby\";\nimport { isLoggedIn } from \"../services/auth\";\n\nconst PrivateRoute = ({ component: Component, location, ...rest }) => {\n  if (!isLoggedIn() && location.pathname !== `/app/login`) {\n    navigate(\"/app/login\");\n    return null;\n  }\n\n  return <Component {...rest} />;\n};\n\nexport default PrivateRoute;\n","import React from \"react\";\nimport { getUser } from \"../services/auth\";\n\nconst Profile = () => (\n  <>\n    <h1>Your profile</h1>\n    <ul>\n      <li>Name: {getUser().name}</li>\n      <li>Email: {getUser().email}</li>\n    </ul>\n  </>\n);\n\nexport default Profile;\n","import React from \"react\";\nimport { navigate } from \"gatsby\";\nimport { handleLogin, isLoggedIn } from \"../services/auth\";\nimport { Box, Button, Heading, Input, Label } from \"@theme-ui/components\";\n\nclass Login extends React.Component {\n  state = {\n    username: ``,\n    password: ``,\n  };\n\n  handleUpdate = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    handleLogin(this.state);\n  };\n\n  render() {\n    if (isLoggedIn()) {\n      navigate(`/app/profile`);\n    }\n\n    return (\n      <Box>\n        <Heading>Log in</Heading>\n        <form\n          method=\"post\"\n          onSubmit={(event) => {\n            this.handleSubmit(event);\n            navigate(`/app/profile`);\n          }}\n        >\n          <Label>\n            Username\n            <Input type=\"text\" name=\"username\" onChange={this.handleUpdate} />\n          </Label>\n          <Label>\n            Password\n            <Input\n              type=\"password\"\n              name=\"password\"\n              onChange={this.handleUpdate}\n            />\n          </Label>\n          <Button variant=\"primary\">Login</Button>\n        </form>\n      </Box>\n    );\n  }\n}\n\nexport default Login;\n","import React from \"react\";\nimport { Router } from \"@reach/router\";\nimport PrivateRoute from \"components/private-route\";\nimport Profile from \"components/profile\";\nimport Login from \"components/login\";\n\nconst App = () => (\n  <Router>\n    <PrivateRoute path=\"/app/profile\" component={Profile} />\n    <Login path=\"/app/login\" />\n  </Router>\n);\n\nexport default App;\n"],"names":["Component","component","location","rest","isLoggedIn","pathname","navigate","getUser","name","email","Login","state","username","password","handleUpdate","event","setState","target","value","handleSubmit","preventDefault","handleLogin","render","method","onSubmit","type","onChange","this","variant","React","Router","path","Profile"],"sourceRoot":""}